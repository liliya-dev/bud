(this["webpackJsonpcra-demo"]=this["webpackJsonpcra-demo"]||[]).push([[0],{30:function(e,t,a){e.exports=a(41)},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=a(2),s=a(10),u=a(3),m=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Home Page is here"))},i=a(28),p=a(13),E=a(29),d=function(e){return{type:"SET_AUTHORIZATION",payload:e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHORIZATION":return t.payload;default:return e}},b=function(e){return{type:"SET_REGISTERED_USER",payload:e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REGISTERED_USER":return t.payload;default:return e}},h=a(24),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_ITEM":return[].concat(Object(h.a)(e),[t.payload]);case"REMOVE_SELECTED_ITEM":return e.filter((function(e){return e!==t.payload}));case"SELECT_ALL":return Object(h.a)(t.payload);case"CANCEL_ALL":return[];default:return e}},g=Object(p.combineReducers)({authorization:f,registeredUser:_,selectedList:v}),O=function(e){return e.authorization},j=function(e){return e.registeredUser},N=function(e){return e.selectedList},y=Object(p.createStore)(g,Object(E.composeWithDevTools)(Object(p.applyMiddleware)(i.a))),w=function(){return r.a.createElement("span",{className:"navigation__wrapper"},r.a.createElement("li",{className:"navigation__item"},r.a.createElement(s.b,{className:"navigation__link",to:"/enter/",exact:!0},r.a.createElement("p",{className:"navigation__text"},"Enter"))),r.a.createElement("li",{className:"navigation__item"},r.a.createElement(s.b,{className:"navigation__link",to:"/register/",exact:!0},r.a.createElement("p",{className:"navigation__text"},"Register"))))},x=a(5),S=a.n(x),k=a(11),C="http://localhost:3002",T=function(){var e=Object(k.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3002/check",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t),Accept:"application/json"},credentials:"include"});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,console.log(n,a,"4444444");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n){var r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C).concat(a),{method:t,headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify(n)});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(S.a.mark((function e(t,a,n,r){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat(C).concat(a)),e.next=3,fetch("".concat(C).concat(a),{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r),Accept:"application/json"},credentials:"include",body:JSON.stringify(n)});case 3:c=e.sent,console.log(23),console.log(c);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.c)(j),t=Object(o.b)(),a=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("1234567"),e.next=3,L("POST","/logout",{},localStorage.getItem("token"));case 3:console.log(1),localStorage.removeItem("token"),localStorage.removeItem("user"),t(d(!1)),console.log(1),t(b(""));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("span",{className:"navigation__wrapper"},r.a.createElement("li",{className:"navigation__item"},r.a.createElement("button",{onClick:a,className:"navigation__button"},"Logout")),r.a.createElement("li",{className:"navigation__item"},r.a.createElement("p",{className:"navigation__text"},e)))},R=function(){var e=Object(o.c)(O);return r.a.createElement("ul",{className:"navigation"},e?r.a.createElement(I,null):r.a.createElement(w,null))},M=a(4),D=function(){var e=Object(n.useState)(""),t=Object(M.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(M.a)(l,2),m=s[0],i=s[1],p=Object(o.b)(),E=Object(u.g)(),f=Object(n.useState)(""),_=Object(M.a)(f,2),h=_[0],v=_[1],g=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(""),e.next=3,A("POST","/enter",{mail:a,password:m});case 3:(t=e.sent).token?(localStorage.setItem("token",t.token),localStorage.setItem("user",t.userName),p(d(!0)),T(t.token),p(b(t.userName)),E.push("/page1")):(console.log("else"),v("Check your mail and password"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{className:"form"},r.a.createElement("p",null,h),r.a.createElement("input",{className:"form__input",type:"email",placeholder:"email",name:"email",value:a,onChange:function(e){c(e.target.value),v("")}}),r.a.createElement("p",{className:"form__error"}),r.a.createElement("input",{className:"form__input",type:"password",placeholder:"password",value:m,onChange:function(e){i(e.target.value),v("")}}),r.a.createElement("p",{className:"form__error"}),r.a.createElement("button",{className:"form__button",type:"button",onClick:g},"Enter")))},P=a(6),z=function(){var e=Object(n.useState)(""),t=Object(M.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(M.a)(l,2),s=o[0],m=o[1],i=Object(n.useState)(""),p=Object(M.a)(i,2),E=p[0],d=p[1],f=Object(n.useState)(""),b=Object(M.a)(f,2),_=b[0],h=b[1],v=Object(n.useState)({name:"",email:"",password:"",confirmedPassword:""}),g=Object(M.a)(v,2),O=g[0],j=g[1],N=Object(u.g)(),y=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("POST","/register",{email:a,password:s,name:_});case 2:e.sent.isRegistrationDone&&N.push("/enter");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{className:"form"},r.a.createElement("input",{className:"form__input",type:"text",placeholder:"Name",value:_,onChange:function(e){h(e.target.value),j(Object(P.a)(Object(P.a)({},O),{},{name:""}))}}),r.a.createElement("p",{className:"form__error"},O.name),r.a.createElement("input",{className:"form__input",type:"email",placeholder:"Email",value:a,onChange:function(e){c(e.target.value),j(Object(P.a)(Object(P.a)({},O),{},{email:""}))}}),r.a.createElement("p",{className:"form__error"},O.email),r.a.createElement("input",{className:"form__input",type:"password",placeholder:"Password",value:s,onChange:function(e){m(e.target.value),j(Object(P.a)(Object(P.a)({},O),{},{password:"",confirmedPassword:""}))}}),r.a.createElement("p",{className:"form__error"},O.password),r.a.createElement("input",{className:"form__input",type:"password",placeholder:"Confirm password",value:E,onChange:function(e){return d(e.target.value)}}),r.a.createElement("p",{className:"form__error"},O.confirmedPassword),r.a.createElement("button",{className:"form__button",type:"button",onClick:function(){var e=function(e,t,a,n){var r={name:"",email:"",password:"",confirmedPassword:""};return a.trim().length||(r.name="Enter the correct name please"),n.includes("@")||(r.email="Enter the correct email please"),e!==t&&(r.confirmedPassword="Check your password please"),e.length<7&&(r.password="Password should be at least 6 characters"),r}(s,E,_,a);Object.values(e).every((function(e){return""===e}))?y():j(e)}},"Register")))},U=function(){return r.a.createElement("ul",{className:"left-nav"},r.a.createElement("li",{className:"left-nav__item"},r.a.createElement(s.b,{to:"/page1",className:"left-nav__link"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 1")),r.a.createElement("li",{className:"left-nav__item"},r.a.createElement(s.b,{to:"/page2",className:"left-nav__link"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 2")),r.a.createElement("li",{className:"left-nav__item"},r.a.createElement(s.b,{to:"/page3",className:"left-nav__link"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 3")))},Z=function(e){var t=e.number,a=Object(o.c)(N).includes(t);return r.a.createElement("li",{className:a?"options__item options__active-item":"options__item"},r.a.createElement("p",{className:"options__text"},t,"."),r.a.createElement("p",{className:"options__text"},"Text \xa0",t))},J=function(e){var t=e.numbers,a=e.scrollableEl;return r.a.createElement("ul",{className:"options",ref:a},t.map((function(e){return r.a.createElement(Z,{number:e,key:Date.now()+e})})))};var B=function(e){var t=e.numbers,a=e.scrollableEl,n=Object(o.c)(N);return r.a.createElement("ul",{className:"modal__pages"},t.map((function(e,t){return r.a.createElement("li",{className:"modal__item",key:Date.now()+e},r.a.createElement("button",{className:n.includes(e)?"modal__page-button--active":"modal__page-button",onClick:function(){return function(e,t){t.scrollTop=55*e}(t,a.current)}},e))})))},G=function(e){var t=e.showModal;return r.a.createElement("div",{className:"modal__button-wrapper"},r.a.createElement("button",{className:"modal__cancel-button modal__button",onClick:function(){return t(!1)}},"Cancel"),r.a.createElement("button",{className:"modal__ok-button modal__button",onClick:function(){return t(!1)}},"OK"))};function H(e){for(var t=[],a=0;a<e;)a++,t.push(a);return console.log("function"),t}var F=function(e){var t=e.showModal,a=Object(n.useMemo)((function(){return H(50)}),[50]),c=Object(n.useRef)(null);return r.a.createElement("div",{className:"modal"},r.a.createElement(B,{numbers:a,scrollableEl:c}),r.a.createElement(J,{numbers:a,scrollableEl:c}),r.a.createElement(G,{showModal:t}))},V=function(){var e=Object(n.useState)(!1),t=Object(M.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"first page"},a?r.a.createElement(F,{showModal:function(e){c(e)}}):r.a.createElement("button",{className:"first__button",onClick:function(){return c(!0)}},"Open"))},K=function(e){var t=e.number,a=Object(o.c)(N).includes(t),n=Object(o.b)();return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:a,onChange:function(e){return function(e){var a=e.target.checked;n(a?function(e){return{type:"SET_SELECTED_ITEM",payload:e}}(t):function(e){return{type:"REMOVE_SELECTED_ITEM",payload:e}}(t))}(e)}})),r.a.createElement("td",null,t),r.a.createElement("td",null,"Random Text number ",t))},W=function(){var e=Object(n.useMemo)((function(){return H(2e3)}),[2e3]),t=2e3===Object(o.c)(N).length,a=Object(o.b)();return r.a.createElement("div",{className:"second page"},r.a.createElement("div",{className:"second__wrapper"},r.a.createElement("table",{className:"second__table"},r.a.createElement("thead",{className:"second__table--head"},r.a.createElement("tr",null,r.a.createElement("th",{className:"second__column-name"},r.a.createElement("input",{id:"select__all",type:"checkbox",className:"second__select-all",checked:t,onChange:function(t){return function(t){var n=t.target.checked;a(n?{type:"SELECT_ALL",payload:e}:{type:"CANCEL_ALL"})}(t)}})),r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Text"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement(K,{key:Date.now()+e,number:e})}))))))},q=function(){return r.a.createElement("h1",null,"UsersList")},Q=function(){var e=Object(n.useState)(""),t=Object(M.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(M.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(""),i=Object(M.a)(m,2),p=i[0],E=i[1],d=Object(n.useState)(""),f=Object(M.a)(d,2),b=f[0],_=f[1],h=Object(n.useState)({name:"",email:"",surname:"",phone:""}),v=Object(M.a)(h,2),g=v[0],O=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"add-form"},r.a.createElement("input",{className:"add-form__input",type:"text",placeholder:"Name",value:p,onChange:function(e){E(e.target.value),O(Object(P.a)(Object(P.a)({},g),{},{name:""}))}}),r.a.createElement("div",{className:"input__error"},g.name),r.a.createElement("input",{className:"add-form__input",type:"text",placeholder:"Surname",value:s,onChange:function(e){u(e.target.value),O(Object(P.a)(Object(P.a)({},g),{},{surname:""}))}}),r.a.createElement("div",{className:"input__error"},g.surname),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("input",{className:"add-form__input",type:"tel",placeholder:"+38xxxxxxxxxx",value:b,onChange:function(e){_(e.target.value),O(Object(P.a)(Object(P.a)({},g),{},{phone:""}))}}),r.a.createElement("div",{className:"input__error"},g.phone)),r.a.createElement("span",null,r.a.createElement("input",{className:"add-form__input",type:"email",placeholder:"Email",value:a,onChange:function(e){O(Object(P.a)(Object(P.a)({},g),{},{email:""})),c(e.target.value)}}),r.a.createElement("div",{className:"input__error"},g.email)))),r.a.createElement("button",{type:"button",className:"add-form__button",onClick:function(){var e=function(e,t,a,n){var r={name:"",email:"",surname:"",phone:""};return a.trim().length||(r.name="Enter the correct name please"),t.trim().length||(r.surname="Enter the correct surname please"),/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}\b/.test(n)||(r.email="Enter the correct email please"),/^\+[0-9]{12}\b/.test(e)||(r.phone="Enter the correct phone please"),r}(b,s,p,a);Object.values(e).every((function(e){return""===e}))?console.log("okay"):O(e)}},"Submit"))},X=function(){var e=Object(n.useState)("Add"),t=Object(M.a)(e,2),a=t[0],c=t[1],l=function(){switch(a){case"Add":return r.a.createElement(Q,null);case"List":return r.a.createElement(q,null);default:return r.a.createElement(Q,null)}}();return r.a.createElement("div",{className:"third page"},r.a.createElement("div",{className:"third__wrapper"},r.a.createElement("button",{className:"third__tab",onClick:function(){return c("Add")}},"Add"),r.a.createElement("button",{className:"third__tab",onClick:function(){return c("List")}},"List")),l)};var Y=function(){var e=Object(o.b)(),t=Object(o.c)(O);return Object(n.useEffect)((function(){var t=localStorage.getItem("user");t&&(e(b(t)),e(d(!0)))})),r.a.createElement("div",{className:"App"},r.a.createElement(R,null),t&&r.a.createElement(U,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0,component:m}),r.a.createElement(u.b,{path:"/home"},r.a.createElement(u.a,{to:"/"})),r.a.createElement(u.b,{path:"/page1",exact:!0,component:V}),r.a.createElement(u.b,{path:"/page2",exact:!0,component:W}),r.a.createElement(u.b,{path:"/page3",exact:!0,component:X}),r.a.createElement(u.b,{path:"/enter",exact:!0,component:D}),r.a.createElement(u.b,{path:"/register",exact:!0,component:z})))};l.a.render(r.a.createElement(o.a,{store:y},r.a.createElement(s.a,null,r.a.createElement(Y,null))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.000b493b.chunk.js.map