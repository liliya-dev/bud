(this["webpackJsonpcra-demo"]=this["webpackJsonpcra-demo"]||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},34:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(20),r=a.n(l),i=a(8),o=a(22),s=a(1),m=a(2),u=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Enter or register please"))},d=function(){return c.a.createElement("span",{className:"navigation__wrapper"},c.a.createElement("li",{className:"navigation__item"},c.a.createElement(i.b,{className:"navigation__link",to:"/enter/",exact:!0},c.a.createElement("p",{className:"navigation__text"},"Enter"))))},E=a(10),p=a.n(E),b=a(14),_=function(e){var t=e.name,a=e.handleLogin,n=Object(m.g)(),l=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!1),localStorage.removeItem("user"),n.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("span",{className:"navigation__wrapper"},c.a.createElement("li",{className:"navigation__item"},c.a.createElement("button",{onClick:l,className:"navigation__button"},"Logout")),c.a.createElement("li",{className:"navigation__item"},c.a.createElement("p",{className:"navigation__text"},t)))},f=function(e){var t=e.isAuthorized,a=e.name,n=e.handleLogin;return c.a.createElement("ul",{className:"navigation"},t?c.a.createElement(_,{handleLogin:n,name:a}):c.a.createElement(d,null))},h="admin@admin.net",v="admin",g={name:"",email:"",surname:"",phone:"",additionalPhone:"",additionalMail:"",isPhoneVisible:!1,isMailVisible:!1,id:""},N=function(e){var t=e.handleLogin,a=Object(n.useState)(""),l=Object(s.a)(a,2),r=l[0],i=l[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),d=u[0],E=u[1],_=Object(n.useState)(""),f=Object(s.a)(_,2),g=f[0],N=f[1],O=Object(m.g)(),j=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r!==h||d!==v?N("Check your mail and password"):(localStorage.setItem("user",r),t(!0),O.push("/page1"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"wrapper"},c.a.createElement("form",{className:"form"},c.a.createElement("p",null,g),c.a.createElement("input",{className:"form__input",type:"email",placeholder:"email",name:"email",value:r,onChange:function(e){i(e.target.value),N("")}}),c.a.createElement("p",{className:"form__error"}),c.a.createElement("input",{className:"form__input",type:"password",placeholder:"password",value:d,onChange:function(e){E(e.target.value),N("")}}),c.a.createElement("p",{className:"form__error"}),c.a.createElement("button",{className:"form__button",type:"button",onClick:j},"Enter")))},O=function(){return c.a.createElement("ul",{className:"left-nav"},c.a.createElement("li",{className:"left-nav__item"},c.a.createElement(i.b,{to:"/page1",className:"left-nav__link"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 1")),c.a.createElement("li",{className:"left-nav__item"},c.a.createElement(i.b,{to:"/page2",className:"left-nav__link"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 2")),c.a.createElement("li",{className:"left-nav__item"},c.a.createElement(i.b,{to:"/page3",className:"left-nav__link"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 3")))},j=function(e){var t=e.number,a=e.activeList.includes(t);return c.a.createElement("li",{className:a?"options__item options__active-item":"options__item"},c.a.createElement("p",{className:"options__text"},t,"."),c.a.createElement("p",{className:"options__text"},"Text \xa0",t))},S=function(e){var t=e.numbers,a=e.scrollableEl,n=e.activeList;return c.a.createElement("ul",{className:"options",ref:a},t.map((function(e){return c.a.createElement(j,{activeList:n,number:e,key:Date.now()+e})})))};var x=function(e){var t=e.numbers,a=e.scrollableEl,n=e.activeList;return c.a.createElement("ul",{className:"modal__pages"},t.map((function(e,t){return c.a.createElement("li",{className:"modal__item",key:Date.now()+e},c.a.createElement("button",{className:n.includes(e)?"modal__page-button--active":"modal__page-button",onClick:function(){return function(e,t){t.scrollTop=55*e}(t,a.current)}},e))})))},k=function(e){var t=e.showModal;return c.a.createElement("div",{className:"modal__button-wrapper"},c.a.createElement("button",{className:"modal__cancel-button modal__button",onClick:function(){return t(!1)}},"Cancel"),c.a.createElement("button",{className:"modal__ok-button modal__button",onClick:function(){return t(!1)}},"OK"))};function w(e){console.log("second num");for(var t=[],a=0;a<e;)a++,t.push(a);return t}var C=c.a.memo((function(e){var t=e.showModal,a=e.activeList,l=Object(n.useMemo)((function(){return w(50)}),[50]),r=Object(n.useRef)(null);return c.a.createElement("div",{className:"modal"},c.a.createElement(x,{numbers:l,activeList:a,scrollableEl:r}),c.a.createElement(S,{numbers:l,activeList:a,scrollableEl:r}),c.a.createElement(k,{showModal:t}))})),L=function(e){var t=e.activeList,a=Object(n.useState)(!1),l=Object(s.a)(a,2),r=l[0],i=l[1];return c.a.createElement("div",{className:"first page"},r?c.a.createElement(C,{activeList:t,showModal:function(e){i(e)}}):c.a.createElement("button",{className:"first__button",onClick:function(){return i(!0)}},"Open"))},y=c.a.memo((function(e){var t=e.number,a=e.isChecked,n=e.setSelectedItem,l=e.removeSelectedItem;return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("input",{type:"checkbox",checked:a,onChange:function(e){return function(e){e.target.checked?n(t):l(t)}(e)}})),c.a.createElement("td",null,t),c.a.createElement("td",null,"Random Text number ",t))})),T=c.a.memo((function(e){var t=e.setAll,a=e.cancelAll,l=e.activeList,r=e.removeSelectedItem,i=e.setSelectedItem,o=Object(n.useMemo)((function(){return w(2e3)}),[2e3]),s=2e3===l.length;return c.a.createElement("div",{className:"second page"},c.a.createElement("div",{className:"second__wrapper"},c.a.createElement("table",{className:"second__table"},c.a.createElement("thead",{className:"second__table--head"},c.a.createElement("tr",null,c.a.createElement("th",{className:"second__column-name"},c.a.createElement("input",{id:"select__all",type:"checkbox",className:"second__select-all",checked:s,onChange:function(e){return function(e){e.target.checked?t(o):a()}(e)}})),c.a.createElement("th",null,"Id"),c.a.createElement("th",null,"Text"))),c.a.createElement("tbody",null,o.map((function(e){return c.a.createElement(y,{key:e,number:e,isChecked:l.includes(e),setSelectedItem:i,removeSelectedItem:r})}))))))})),A=function(e){var t=e.user,a=e.deleteTemp,n=e.startEditing;return c.a.createElement("tr",null,c.a.createElement("td",null,t.name,"\xa0",t.surname),c.a.createElement("td",null,t.phone),c.a.createElement("td",null,c.a.createElement("button",{className:"users__action",onClick:function(){var e=window.openDatabase("users","1.0","Test DB",1e6),n=confirm("Do you really want to delete ".concat(t.name," ").concat(t.surname,"?"));e&&n&&(e.transaction((function(e){e.executeSql("DELETE FROM UserData WHERE id=".concat(t.id))})),a(t.id))}},"\ud83d\uddd1"),c.a.createElement("button",{className:"users__action",onClick:function(){return n(t)}},"\u270d")))},D=function(e){var t=e.users,a=e.deleteTemp,n=e.startEditing;return c.a.createElement("table",{className:"second__table"},c.a.createElement("thead",{className:"second__table--head"},c.a.createElement("tr",null,c.a.createElement("th",{className:"second__column-name"},"Full Name"),c.a.createElement("th",null,"Phone"),c.a.createElement("th",null,"Actions"))),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement(A,{startEditing:n,deleteTemp:a,key:e.id,user:e})}))))},M=function(e){var t=e.startEditing,a=Object(n.useState)([]),l=Object(s.a)(a,2),r=l[0],i=l[1],o=Object(n.useState)(""),m=Object(s.a)(o,2),u=m[0],d=m[1];Object(n.useEffect)((function(){var e=window.openDatabase("users","1.0","Test DB",1e6);e&&e.transaction((function(e){return e.executeSql("SELECT * FROM UserData",[],(function(e,t){if(t){var a=t.rows,n=Object.values(a);i(n)}}))}))}),[]);return c.a.createElement("div",{className:"users"},c.a.createElement("input",{type:"text",placeholder:"\ud83d\udd0e Search",value:u,className:"users__search",onChange:function(e){return d(e.target.value)}}),r.length>0&&c.a.createElement(D,{startEditing:t,users:r.filter((function(e){return(e.name+e.surname).includes(u)})),deleteTemp:function(e){i(r.filter((function(t){return t.id!==e})))}}))},I=a(6),P=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}\b/,F=/^\+[0-9]{12}\b/,R=function(e){var t=e.initialStates,a=e.isEdit,l=e.finishEditing,r=Object(n.useState)(t.email),i=Object(s.a)(r,2),o=i[0],m=i[1],u=Object(n.useState)(t.surname),d=Object(s.a)(u,2),E=d[0],p=d[1],b=Object(n.useState)(t.name),_=Object(s.a)(b,2),f=_[0],h=_[1],v=Object(n.useState)(t.phone),g=Object(s.a)(v,2),N=g[0],O=g[1],j=Object(n.useState)(t.additionalPhone),S=Object(s.a)(j,2),x=S[0],k=S[1],w=Object(n.useState)(t.additionalMail),C=Object(s.a)(w,2),L=C[0],y=C[1],T=Object(n.useState)(t.isPhoneVisible),A=Object(s.a)(T,2),D=A[0],M=A[1],R=Object(n.useState)(t.isMailVisible),U=Object(s.a)(R,2),V=U[0],B=U[1],q=Object(n.useState)({name:"",email:"",surname:"",phone:"",additionalPhone:"",additionalMail:""}),z=Object(s.a)(q,2),Z=z[0],H=z[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"add-form"},c.a.createElement("input",{className:"add-form__input",type:"text",placeholder:"Name",value:f,onChange:function(e){h(e.target.value),H(Object(I.a)(Object(I.a)({},Z),{},{name:""}))}}),c.a.createElement("div",{className:"input__error"},Z.name),c.a.createElement("input",{className:"add-form__input",type:"text",placeholder:"Surname",value:E,onChange:function(e){p(e.target.value),H(Object(I.a)(Object(I.a)({},Z),{},{surname:""}))}}),c.a.createElement("div",{className:"input__error"},Z.surname),c.a.createElement("span",null,c.a.createElement("span",null,c.a.createElement("div",{className:"add-form__container"},c.a.createElement("input",{className:"add-form__input",type:"tel",placeholder:"+38xxxxxxxxxx",value:N,onChange:function(e){O(e.target.value),H(Object(I.a)(Object(I.a)({},Z),{},{phone:""}))}}),!D&&c.a.createElement("button",{className:"add-form__add",onClick:function(){return M(!0)}},"+")),c.a.createElement("div",{className:"input__error"},Z.phone)),D&&c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{className:"add-form__input",type:"tel",placeholder:"+38xxxxxxxxxx",value:x,onChange:function(e){k(e.target.value),H(Object(I.a)(Object(I.a)({},Z),{},{additionalPhone:""}))}}),c.a.createElement("div",{className:"input__error"},Z.additionalPhone)),c.a.createElement("span",null,c.a.createElement("div",{className:"add-form__container"},c.a.createElement("input",{className:"add-form__input",type:"email",placeholder:"Email",value:o,onChange:function(e){H(Object(I.a)(Object(I.a)({},Z),{},{email:""})),m(e.target.value)}}),!V&&c.a.createElement("button",{className:"add-form__add",onClick:function(){return B(!0)}},"+")),c.a.createElement("div",{className:"input__error"},Z.email)),V&&c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{className:"add-form__input",type:"email",placeholder:"Email",value:L,onChange:function(e){H(Object(I.a)(Object(I.a)({},Z),{},{additionalMail:""})),y(e.target.value)}}),c.a.createElement("div",{className:"input__error"},Z.additionalMail)),c.a.createElement("span",null))),c.a.createElement("div",{className:"add-form__button-wrapper"},c.a.createElement("button",{type:"button",className:"add-form__button",onClick:function(){var e=function(e,t,a,n,c,l,r,i){var o={name:"",email:"",surname:"",phone:"",additionalPhone:"",additionalMail:""};return a.trim().length||(o.name="Enter the correct name please"),t.trim().length||(o.surname="Enter the correct surname please"),P.test(n)||(o.email="Enter the correct email please"),F.test(e)||(o.phone="Enter the correct phone please"),c&&!F.test(r)&&(o.additionalPhone="Enter the correct phone please"),l&&!P.test(i)&&(o.additionalMail="Enter the correct email please"),o}(N,E,f,o,D,V,x,L);if(Object.values(e).every((function(e){return""===e}))){var n=window.openDatabase("users","1.0","Test DB",1e6),c=x.length?"".concat(N,"  ").concat(x):N,r=L.length?"".concat(o,"  ").concat(L):o;n&&(a?(n.transaction((function(e){console.log("start"),e.executeSql('UPDATE UserData SET name="'.concat(f,'", surname="').concat(E,'", phone="').concat(c,'", \n            email="').concat(r,'"\n            WHERE id = ').concat(t.id,";"))})),l()):(n.transaction((function(e){e.executeSql("INSERT INTO UserData (id, name, surname, phone, email) \n            VALUES (".concat(Date.now(),', "').concat(f,'", "').concat(E,'", "').concat(c,'", "').concat(r,'" )'))})),m(""),h(""),O(""),p(""),y(""),k(""),B(!1),M(!1)))}else H(e)}},"Submit"),a&&c.a.createElement("button",{type:"button",className:"add-form__button",onClick:l},"Cancel")))},U=function(){var e=Object(n.useState)("List"),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),i=Object(s.a)(r,2),o=i[0],m=i[1],u=Object(n.useState)(g),d=Object(s.a)(u,2),E=d[0],p=d[1],b=function(e){l("Add"),m(!0);var t=function(e){var t=e.phone.split("  "),a=e.email.split("  "),n=2===t.length?t[1]:"",c=2===a.length?a[1]:"";return{name:e.name,surname:e.surname,phone:t[0],additionalMail:c,additionalPhone:n,email:a[0],isMailVisible:2===a.length,isPhoneVisible:2===t.length,id:e.id}}(e);p(t)},_=function(){p(g),l("List"),m(!1)};Object(n.useEffect)((function(){window.openDatabase("users","1.0","Test DB",1e6).transaction((function(e){e.executeSql("CREATE TABLE IF NOT EXISTS UserData (id, name, surname, phone, email)")}))}),[]);var f=function(){switch(a){case"Add":return c.a.createElement(R,{initialStates:E,isEdit:o,finishEditing:_});case"List":return c.a.createElement(M,{startEditing:b});default:return c.a.createElement(R,{initialStates:E,isEdit:o,finishEditing:_})}}();return c.a.createElement("div",{className:"third page"},c.a.createElement("div",{className:"third__wrapper"},c.a.createElement("button",{className:"Add"===a?"third__tab third__tab--active":"third__tab",onClick:function(){return l("Add")}},"Add"),c.a.createElement("button",{className:"List"===a?"third__tab third__tab--active":"third__tab",onClick:function(){return l("List")}},"List")),f)};var V=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),i=Object(s.a)(r,2),d=i[0],E=i[1],p=Object(n.useState)([]),b=Object(s.a)(p,2),_=b[0],h=b[1],v=function(e){h(e)},g=function(){h([])},j=function(e){h([].concat(Object(o.a)(_),[e]))},S=function(e){h(_.filter((function(t){return t!==e})))};Object(n.useEffect)((function(){var e=localStorage.getItem("user");e&&(l(!0),E(e))}),[l,E]);var x=function(e){l(e)};return c.a.createElement("div",{className:"App"},c.a.createElement(f,{handleLogin:x,isAuthorized:a,name:d}),a&&c.a.createElement(O,null),c.a.createElement(m.d,null,c.a.createElement(m.b,{path:"/",exact:!0,component:u}),c.a.createElement(m.b,{path:"/home"},c.a.createElement(m.a,{to:"/"})),c.a.createElement(m.b,{path:"/page1",exact:!0,render:function(){return c.a.createElement(L,{activeList:_})}}),c.a.createElement(m.b,{path:"/page2",exact:!0,render:function(){return c.a.createElement(T,{setAll:v,cancelAll:g,activeList:_,setSelectedItem:j,removeSelectedItem:S})}}),c.a.createElement(m.b,{path:"/page3",exact:!0,component:U}),c.a.createElement(m.b,{path:"/enter",exact:!0,render:function(){return c.a.createElement(N,{handleLogin:x})}})))};r.a.render(c.a.createElement(i.a,null,c.a.createElement(V,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.e7f61ee4.chunk.js.map